
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
    <title>Open Health Care UK</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,300italic,400italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Merriweather:400,700' rel='stylesheet' type='text/css'>

    <!-- Global CSS -->
    <link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="/assets/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/assets/plugins/animate-css/animate.min.css">
    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="/assets/css/styles.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>


<body class="">

    <div class="wrapper">
      
<!-- ******HEADER****** -->
<header id="header" class="header">
  <div class="container">
    <a href="/index.html" class="logo pull-left">
      <img src="/assets/images/toplogo.png" />
    </a>

    <nav id="main-nav" class="main-nav navbar-right" role="navigation">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button><!--//nav-toggle-->
      </div><!--//navbar-header-->
      <div class="navbar-collapse collapse" id="navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="nav-item nav-item-cta"><a href="/about/">About</a></li>
          <li class="nav-item nav-item-cta"><a href="/services.html">Services</a></li>
          <li class="nav-item nav-item-cta"><a href="#contact">Contact</a></li>
          <li class="nav-item nav-item-cta"><a href="/blog/" >Blog</a></li>
          <li class="nav-item nav-item-cta last"><a href="http://opal.openhealthcare.org.uk">OPAL</a></li>
        </ul><!--//nav-->
      </div><!--//navabr-collapse-->
    </nav><!--//main-nav-->
  </div><!--//container-->
</header><!--//header-->


      
<!-- ******BLOG LIST****** -->
<div class="blog container">
  <div class="row">
    <div id="blog-entry" class="blog-entry section col-md-8 col-sm-8 col-xs-12">
      <article class="post">
        <h2 class="title">Opal 0.8 released</h2>
        <div class="meta">
          <ul class="meta-list list-inline">
            <li class="post-time post_date date updated">March 08 2017</li>
            <li class="post-author"> by <a href="http://twitter.com/thatdavidmiller">David Miller</a></li>
            <!-- <li class="post-comments-link"> &#8211;>
            <!--   <a href="#comment-area"><i class="fa fa-comments"></i>8 Comments</a> &#8211;>
            <!-- </li> &#8211;>
          </ul><!--//meta-list-->
        </div><!--meta-->
        
        <div class="post-thumb">
          <img class="img-responsive" src="/assets/images/posts/8.jpg" alt="" />
        </div><!--//post-thumb-->
        
        <div class="content">
          <p>A few weeks ago now we released <a href="http://opal.openhealthcare.org.uk">Opal</a> 0.8. It’s quite a large release, so we thought we’d
walk you through some of the highlights.</p>

<h3>Forms - now with added sugar</h3>

<p>We’ve been spending lots of time working to make forms easier to work with. Sometimes it seems that 95% of designing services is making
forms that aren&rsquo;t frustrating and difficult to use
- and having good tools to quickly build and iterate the forms you’re working with can make that process much easier.</p>

<p>We made sure that some of the features from Django models, like choices and defaults now flow through seamlessly by default to our form
widgets, and that the client side Angular code will use these by default without you having to do anything. This was all possible before,
but required more typing. Nobody likes extra typing.</p>

<p>For instance, if we had the following model:</p>

<div class="highlight"><pre><code class="language-python" data-lang="python"><span class="k">class</span> <span class="nc">TableClothPreference</span><span class="p">(</span><span class="n">EpisodeSubrecord</span><span class="p">):</span>
        <span class="n">COLOUR_CHOICES</span> <span class="o">=</span> <span class="p">(</span>
          <span class="p">(</span><span class="s">&#39;P&#39;</span><span class="p">,</span> <span class="s">&#39;Purple&#39;</span><span class="p">),</span>
          <span class="p">(</span><span class="s">&#39;R&#39;</span><span class="p">,</span> <span class="s">&#39;Red&#39;</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">favourite_colour</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span>
                                            <span class="n">default</span><span class="o">=</span><span class="s">&#39;Purple&#39;</span><span class="p">,</span>
                                            <span class="n">choices</span><span class="o">=</span><span class="n">COLOUR_CHOICES</span><span class="p">)</span></code></pre></div>


<p>We would be able to render a dropdown widget for the field that used the default and restricted the choices by simply using the
following in our code:</p>

<div class="highlight"><pre><code class="language-jinja" data-lang="jinja"><span class="x">{ % select field=&quot;TableClothPreference.favourite_colour&quot; % }</span></code></pre></div>


<p>We’ve also spent time making sure that form validation is much easier to work with. By default we
now validate forms on submission - making sure that we respect max length of form fields for instance.</p>

<p>As well as the improvements to forms in Opal itself, we’ve also been working hard on the Opal
<a href="https://github.com/openhealthcare/opal-pathway">Pathway library</a>. This library makes it significantly easier to work with
complex forms - particularly ones that need to save data to many different models. Although Pathway is still considered alpha software,
we fully anticipate that we’ll be incorporating it into Opal itself as the recommended way to build forms in Opal applications later this year.</p>

<h3>Python 3 support</h3>

<p>Responding to an issue raised on the mailing list, we’ve refactored Opal to work on Python 3. Thanks to the hard work and excellent tooling in the
Python community this was a relatively painless task, but hopefully it puts us in a good position to move towards Python 3 deployments moving forwards.</p>

<h3>Common patterns for customising Patient Lists</h3>

<p>We’ve made it much easier to implement some of the common patterns we see when working with patient lists, by explicitly adding APIs.</p>

<p>You can now <a href="http://opal.openhealthcare.org.uk/docs/v0.8.0/guides/list_views/#customising-sort-order-of-episodes">customise the ordering</a>
of patients on a list-by-list basis using the comparator_service attribute of PatientList classes.
A comparator service is an Angular service that returns a list of comparator functions that are used in order to determine how
we should compare and sort two episodes - for instance:</p>

<div class="highlight"><pre><code class="language-javascript" data-lang="javascript"><span class="nx">angular</span><span class="p">.</span><span class="nx">module</span><span class="p">(</span><span class="s1">&#39;opal.services&#39;</span><span class="p">)</span>
        <span class="p">.</span><span class="nx">factory</span><span class="p">(</span><span class="s1">&#39;MyComparatorService&#39;</span><span class="p">,</span> <span class="kd">function</span><span class="p">(){</span>
            <span class="s2">&quot;use strict&quot;</span><span class="p">;</span>
            <span class="k">return</span> <span class="p">[</span>
                <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span> <span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">category_name</span> <span class="p">},</span>
                <span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">){</span> <span class="k">return</span> <span class="nx">e</span><span class="p">.</span><span class="nx">id</span> <span class="p">}</span>
            <span class="p">]</span>
        <span class="p">});</span></code></pre></div>


<p>We also introduced an easy way for you to
<a href="http://opal.openhealthcare.org.uk/docs/v0.8.0/guides/list_views/#grouping-related-patient-lists">group lists into tabs</a>
that display in the default template.</p>

<h3>Goodbye Angular-Strap</h3>

<p>Until Opal 0.8 we had not one, but two UI libraries which wrapped Bootstrap components in Angular compatible code.
We’ve been uncomfortable about that for a while - it’s confusing to have to remember which widget comes from which
library! As of Opal 0.8 however we’ve picked a winner - <a href="http://angular-ui.github.io/bootstrap/versioned-docs/0.14.3/">UI Bootstrap</a>,
and we removed all references to Angular Strap completely, both in Opal and in all the applications and plugins we could find on
Github.</p>

<p>We&rsquo;re planning to update the UI Bootstrap library to a more recent version in the next couple of releases, but the re-naming of
their modal component could potentially make this transition slightly tricky, so we&rsquo;re waiting to make sure we can do so as
smoothly as possible.</p>

<h3>Finding out more</h3>

<p>If you’d like to find out more about Opal, then you might like to try the
<a href="http://opal.openhealthcare.org.uk/docs/">documentation</a> or the
<a href="https://groups.google.com/forum/?ohc-dev#!forum/ohc-opal">mailing list</a>.
There are more details about some of the other smaller features and bugfixes in 0.8 in the
<a href="https://github.com/openhealthcare/opal/releases/tag/0.8.0">release notes</a>,
and you
can also read about how to <a href="http://opal.openhealthcare.org.uk/docs/v0.8.0/reference/upgrading/#071-080">upgrade from 0.7.x</a>
in the documentation.</p>

<p>If you have a project that you think might be suited to Opal, please do <a href="mailto:hello@openhealthcare.org.uk">get in touch</a> - we’d love to hear from you.</p>

<p><small>
Photo credits: <a href="https://www.flickr.com/photos/thejaymo/">Jay Springett</a>
</small></p>

        </div>
        <div class="content">
          <p>
            <small>
              <i class="fa fa-twitter"></i><i><a href="http://twitter.com/thatdavidmiller">Follow David Miller on twitter</a></i>
            </small>
          </p>
        </div>
        <nav class="post-nav">
        
        <span class="nav-previous"><a href="/blog/2017/02/22/open-data-in-health/" rel="prev"><i class="fa fa-long-arrow-left"></i> Our report on open data in health</a></span>
        
        
        <span class="nav-next"><a href="/blog/2017/03/15/prototyping-a-dental-referral-system/" rel="prev">Building a better dental referral process <i class="fa fa-long-arrow-right"></i></a></span>
        
        </nav><!--//post-nav-->

      </article><!--//post-->

      <div id="disqus_thread"></div>
      <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        var disqus_shortname = 'ohcuk';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

    </div><!--//blog-entry-->

    <aside id="blog-sidebar" class="blog-sidebar col-md-3 col-sm-3 col-xs-12 col-md-offset-1 col-sm-offset-1 col-xs-offset-0">
      <section class="widget recent-posts">
        <h3 class="title">Recent Posts</h3>
        <ul class="list-unstyled">
          
          <li><a href="/blog/2017/03/15/prototyping-a-dental-referral-system/">Building a better dental referral process</a><br /><span class="date">
              March 15, 2017
          </span></li>
          
          <li><a href="/blog/2017/03/08/opal-08-released/">Opal 0.8 released</a><br /><span class="date">
              March 08, 2017
          </span></li>
          
          <li><a href="/blog/2017/02/22/open-data-in-health/">Our report on open data in health</a><br /><span class="date">
              February 22, 2017
          </span></li>
          
          <li><a href="/blog/2016/11/04/show-me-the-data-vs-show-me-the-thing/">Show me the data vs. Show me the things</a><br /><span class="date">
              November 04, 2016
          </span></li>
          
          <li><a href="/blog/2016/10/24/nhs-hack-day-14-newcastle/">NHS Hack Day 14 - Newcastle</a><br /><span class="date">
              October 24, 2016
          </span></li>
          
          <li><a href="/atom.xml"><i class="fa fa-rss-square"></i> RSS</a></li>
        </ul>
      </section><!--//widget-->
    </aside><!--//blog-side-bar-->
  </div><!--//row-->
</div><!--//blog-->

            
    </div><!--//wrapper-->
    
    
<section id="contact" class="signup">
  <div class="container text-center">
    <h2 class="title">Talk to us.</h2>
    <p class="summary">
      Something you think we could help with?<br />
      We&#8217;d love to hear from you.
    </p>
    <a class="btn btn-lg btn-cta btn-cta-secondary" href="mailto:hello@openhealthcare.org.uk">
      Get in touch
    </a>
  </div>
</section><!--//signup-->


<!-- ******FOOTER****** -->
<footer class="footer">
  <div class="footer-content">
    <div class="container">
      <div class="row">
        <div class="footer-col col-md-5 col-sm-7 col-sm-12 about">
          <div class="footer-col-inner">
            <h3 class="title">About Us</h3>
            <p>
                We’re a limited company based in the UK.
                We work with clients in the NHS to help build a health system fit for the
                digital age.
                We build and run digital services for clinicians who deliver direct care
                and researchers who collect data.
                We also provide digital consultancy services to institutions within the health
                sector.
            </p>
            <p><a class="more" href="/about/">Learn more <i class="fa fa-long-arrow-right"></i></a></p>

          </div><!--//footer-col-inner-->
        </div><!--//foooter-col-->
        <div class="footer-col col-md-3 col-sm-4 col-md-offset-1 links">
          <div class="footer-col-inner">
          </div><!--//footer-col-inner-->
        </div><!--//foooter-col-->
        <div class="footer-col col-md-3 col-sm-12 contact">
          <div class="footer-col-inner">
            <h3 class="title">Getting in touch</h3>
            <div class="row">
              <p class="twitter col-md-12 col-sm-4">
                <a href="http://twitter.com/@ohcuk">
                  <i class="fa fa-twitter"></i>@ohcuk
                </a>
              </p>
              <p class="email col-md-12 col-sm-4">
                  <a href="mailto:hello@openhealthcare.org.uk">
                      <i class="fa fa-envelope"></i>hello@openhealthcare.org.uk
                  </a>
              </p>
            </div>
          </div><!--//footer-col-inner-->
        </div><!--//foooter-col-->
      </div><!--//row-->
    </div><!--//container-->
  </div><!--//footer-content-->
</footer><!--//footer-->


        <!-- Javascript -->
    <script type="text/javascript" src="/assets/plugins/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/plugins/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="/assets/plugins/detectmobilebrowser.js"></script>
    <script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
    <script type="text/javascript" src="/assets/plugins/jquery-placeholder/jquery.placeholder.js"></script>
    <script type="text/javascript" src="/assets/plugins/jquery-inview/jquery.inview.min.js"></script>
    <script type="text/javascript" src="/assets/plugins/FitVids/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/main.js"></script>
    <!--[if !IE]>&#8211;>
    <script type="text/javascript" src="/assets/js/animations.js"></script>
    <!--<![endif]-->
    <script type="text/javascript" src="/assets/js/ohc.js"></script>

  <script>
    var _gaq = _gaq || [];

      _gaq.push(['_setAccount', 'UA-35112560-4']);

      _gaq.push(['_trackPageview']);



      (function() {

    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;

    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);

      })();
  </script>

</body>
</html> 
