
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->
<head>
    <title>Open Health Care UK</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,300italic,400italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Montserrat:400,700' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Merriweather:400,700' rel='stylesheet' type='text/css'>

    <!-- Global CSS -->
    <link rel="stylesheet" href="/assets/plugins/bootstrap/css/bootstrap.min.css">
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="/assets/plugins/font-awesome/css/font-awesome.css">
    <link rel="stylesheet" href="/assets/plugins/animate-css/animate.min.css">
    <!-- Theme CSS -->
    <link id="theme-style" rel="stylesheet" href="/assets/css/styles.css">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>


<body class="">

    <div class="wrapper">
      
<!-- ******HEADER****** -->
<header id="header" class="header">
  <div class="container">
    <a href="/index.html" class="logo pull-left">
      <img src="/assets/images/toplogo.png" />
    </a>

    <nav id="main-nav" class="main-nav navbar-right" role="navigation">
      <div class="navbar-header">
        <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#navbar-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button><!--//nav-toggle-->
      </div><!--//navbar-header-->
      <div class="navbar-collapse collapse" id="navbar-collapse">
        <ul class="nav navbar-nav">
          <li class="nav-item nav-item-cta"><a href="/about/">About</a></li>
          <li class="nav-item nav-item-cta"><a href="/services.html">Services</a></li>
          <li class="nav-item nav-item-cta"><a href="#contact">Contact</a></li>
          <li class="nav-item nav-item-cta"><a href="/blog/" >Blog</a></li>
          <li class="nav-item nav-item-cta last"><a href="http://opal.openhealthcare.org.uk">OPAL</a></li>
        </ul><!--//nav-->
      </div><!--//navabr-collapse-->
    </nav><!--//main-nav-->
  </div><!--//container-->
</header><!--//header-->


      
<!-- ******BLOG LIST****** -->
<div class="blog container">
  <div class="row">
    <div id="blog-entry" class="blog-entry section col-md-8 col-sm-8 col-xs-12">
      <article class="post">
        <h2 class="title">How we manage risk when we use open source in health</h2>
        <div class="meta">
          <ul class="meta-list list-inline">
            <li class="post-time post_date date updated">April 06 2016</li>
            <li class="post-author"> by <a href="http://twitter.com/thatdavidmiller">David Miller</a></li>
            <!-- <li class="post-comments-link"> &#8211;>
            <!--   <a href="#comment-area"><i class="fa fa-comments"></i>8 Comments</a> &#8211;>
            <!-- </li> &#8211;>
          </ul><!--//meta-list-->
        </div><!--meta-->
        
        <div class="post-thumb">
          <img class="img-responsive" src="/assets/images/posts/some.code.jpg" alt="" />
        </div><!--//post-thumb-->
        
        <div class="content">
          <p>In the last couple weeks, many thousands of words have been written about a small piece of open source code called left-pad which was suddenly un-published by its author. (If you’re not up to speed on this, then you might like to
read a <a href="http://www.theregister.co.uk/2016/03/23/npm_left_pad_chaos/">narrative overview</a>, or
<a href="http://www.haneycodes.net/npm-left-pad-have-we-forgotten-how-to-program/">some</a>
<a href="http://lucumr.pocoo.org/2016/3/24/open-source-trust-scaling/">interesting</a>
<a href="http://blog.npmjs.org/post/141577284765/kik-left-pad-and-npm">analysis</a>.)</p>

<p>Perfectly understandably, this has caused lots of people to re-consider the risks of building on open source, and how the actions of unaccountable external developers halfway around the world could have an effect on how your software operates.</p>

<p>When we work with digital tools for health, risk can be particularly profound. The failure mode of a digital service that supports clinicians delivering direct care is the risk of IT failures causing harm to patients, not just a website being unavailable for a while. This means that we need to make sure that our attitude to risk is appropriate to the harm that failures can cause.</p>

<p>Thankfully, there are plenty of people using open source, and lots of them using it for mission critical applications that have exacting uptime expectations. That means that the path to processes and tools to mitigate these risks is well trodden, and we can learn from the wealth of cultural knowledge in the open source movement.</p>

<p>Taking a straw poll of the table I&rsquo;m sat at, there are people who&rsquo;ve written code using open source for investment banks, power stations, government departments, and yes, NHS hospitals.</p>

<p>The story of how all those places avoid their production systems being broken by code that has been altered by unknown open source developers is basically identical.</p>

<h3>Software Dependencies at Open Health Care</h3>

<div class="post-thumb">
  <img class="img-responsive" src="/assets/images/people/david.ross.jpg" alt="" />
</div>


<!--//post-thumb-->


<p>A <a href="https://en.wikipedia.org/wiki/Coupling_(computer_programming)">dependency</a> is a
broad software engineering term used to explain the relationship when a piece of software relies
on another one. When programmers install and run software from other sources, they will most often use a
<a href="https://en.wikipedia.org/wiki/Package_manager">package manager</a> - software that automates the
process of installing and upgrading code.</p>

<p>Before we install a new package or module of open source code, we carefully evaluate it. We look at the code, we look at its user base, we look at how actively maintained it is by the open source community and we look at the risk that it presents to the rest of our code base. The decision has to be signed off by at least two people in our development team, and it’s not one we take lightly. (Explaining how this review and evaluation process works in detail is probably a whole post in itself.)</p>

<p>Once we’ve taken that decision, we have to update our code to incorporate the new dependency.
<a href="https://pypi.python.org/pypi/">Every</a>
<a href="https://www.npmjs.com/">major</a>
<a href="https://hex.pm/">open</a>
<a href="https://rubygems.org/">source</a>
<a href="http://www.cpan.org/">package</a>
<a href="https://help.ubuntu.com/lts/serverguide/package-management.html">manager</a> includes the concept of
<a href="https://en.wikipedia.org/wiki/Software_versioning">software versions</a>. When we use external code, we &ldquo;pin&rdquo; that code to
<a href="https://github.com/openhealthcare/elcid/blob/v0.6.0/requirements.txt">a particular version</a>. The exact mechanism we use to do that varies, but always means that we end up explicitly defining the exact version number of a piece of code in our application.</p>

<p>That means that every time we re-install, we get the exact same software.
Our <a href="https://travis-ci.org/openhealthcare/">automated test suites</a> are run against the exact same software. When we deploy to a staging environment to do testing and quality control, it&rsquo;s the exact same software. When we deploy to production&hellip; you get the picture I&rsquo;m sure.</p>

<p>If the author of that code releases a new version, we’ll hear about it from the project mailing list, or from blog posts about it, but that code doesn’t automatically find its way into our applications.</p>

<p>When we decide to upgrade a dependency that&rsquo;s a task that&rsquo;s
<a href="https://waffle.io/openhealthcare/opal-ideas">assigned to a programmer</a> as part of a
<a href="https://en.wikipedia.org/wiki/Scrum_(software_development)#Sprint">sprint</a>. That task
will consist of a number of things:</p>

<ul>
<li>They have to review the changes to the library.</li>
<li>They have to change several pieces of configuration management code.</li>
<li>They have to run all of our automated test suites and make sure they pass.</li>
<li>They have to get the upgrade accepted by a <a href="https://help.github.com/articles/using-pull-requests/">peer review process</a> (another programmer has to OK the decision).</li>
</ul>


<p>And that&rsquo;s just to change the latest version for a fresh install. It is nowhere near production yet. To get there you have full change approval and acceptance testing processes that are in place for
individual deployments.</p>

<h3>So how did left-pad affect us?</h3>

<p>The short answer is, it didn’t.</p>

<p>By the time the applications we support are deployed, they safely include all of the code that’s required to run them, and that code is carefully managed.</p>

<p>The real disruption caused by left-pad was to the working life of programmers. It would have meant that new installations failed, or
perhaps <a href="https://en.wikipedia.org/wiki/Continuous_integration">automated test suites</a> didn&rsquo;t pass. If we’d been working at 22:30 PM last tuesday, then during the two and a half hours that the whole affair lasted, it might have made us a little less productive. If we’d been doing a planned upgrade or deployment of one of our applications, we might have had to postpone it. (Although we likely would have been just fine with the specific left-pad issues.)</p>

<p>What it has meant, is that we’ve taken the opportunity to review our processes to make sure that we’re following established best practices for open source development in domains where managing risk is as important as health. And we welcome that opportunity - we’re always striving to make sure that our engineering standards are as high as possible.</p>

<h3>Open Source or just good software engineering?</h3>

<p>One of the great things about the open source movement is that we’re able to have high quality conversations about things like risk and failure in the open. When things go wrong, we’re happy to talk about it. The open movement shares its knowledge from the tough times as well as the good times. The open movement means that the stakeholder involvement and the responsibility is shared. If a solution needs to be found, it can often be found quicker and to a higher standard because it is being required and reviewed by such a large body of individuals.</p>

<p>More broadly, every software vendor, produces applications that depend on code they haven’t written themselves - regardless of licensing. Managing dependencies is a part of all modern software engineering. The most important factor here is not the licence under which that code exists. What does matter, is having an approach to risk that’s appropriate and responsible.</p>

<p>If you’d like to know more about the processes we use to make sure that we deliver the highest quality service to the clinical teams who use our products,
or if you’d like to know more about how we might be able to help you, then do <a href="mailto:hello@openhealthcare.org.uk">get in touch</a>.</p>

<p><small>
Photo credits: <a href="flickr.com/photos/paul_clarke/">Paul Clarke</a>
</small></p>

        </div>
        <div class="content">
          <p>
            <small>
              <i class="fa fa-twitter"></i><i><a href="http://twitter.com/thatdavidmiller">Follow David Miller on twitter</a></i>
            </small>
          </p>
        </div>
        <nav class="post-nav">
        
        <span class="nav-previous"><a href="/blog/2016/04/04/why-we-dont-do-product-placement-at-nhshackday/" rel="prev"><i class="fa fa-long-arrow-left"></i> Why we don’t do product placement at NHS Hack Day</a></span>
        
        
        <span class="nav-next"><a href="/blog/2016/05/20/nhs-hack-day-13/" rel="prev">NHS Hack Day 13 - London <i class="fa fa-long-arrow-right"></i></a></span>
        
        </nav><!--//post-nav-->

      </article><!--//post-->

      <div id="disqus_thread"></div>
      <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES * * */
        var disqus_shortname = 'ohcuk';

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

    </div><!--//blog-entry-->

    <aside id="blog-sidebar" class="blog-sidebar col-md-3 col-sm-3 col-xs-12 col-md-offset-1 col-sm-offset-1 col-xs-offset-0">
      <section class="widget recent-posts">
        <h3 class="title">Recent Posts</h3>
        <ul class="list-unstyled">
          
          <li><a href="/blog/2016/06/01/happy-birthday-to-opal/">Happy Birthday to OPAL!</a><br /><span class="date">
              June 01, 2016
          </span></li>
          
          <li><a href="/blog/2016/05/20/nhs-hack-day-13/">NHS Hack Day 13 - London</a><br /><span class="date">
              May 20, 2016
          </span></li>
          
          <li><a href="/blog/2016/04/06/how-we-manage-risk-when-we-use-open-source-in-health/">How we manage risk when we use open source in health</a><br /><span class="date">
              April 06, 2016
          </span></li>
          
          <li><a href="/blog/2016/04/04/why-we-dont-do-product-placement-at-nhshackday/">Why we don’t do product placement at NHS Hack Day</a><br /><span class="date">
              April 04, 2016
          </span></li>
          
          <li><a href="/blog/2016/03/21/how-to-pitch-at-a-hackday/">How to make a great hack day pitch</a><br /><span class="date">
              March 21, 2016
          </span></li>
          
          <li><a href="/atom.xml"><i class="fa fa-rss-square"></i> RSS</a></li>
        </ul>
      </section><!--//widget-->
    </aside><!--//blog-side-bar-->
  </div><!--//row-->
</div><!--//blog-->

            
    </div><!--//wrapper-->
    
    
<section id="contact" class="signup">
  <div class="container text-center">
    <h2 class="title">Talk to us.</h2>
    <p class="summary">
      Something you think we could help with?<br />
      We&#8217;d love to hear from you.
    </p>
    <a class="btn btn-lg btn-cta btn-cta-secondary" href="mailto:hello@openhealthcare.org.uk">
      Get in touch
    </a>
  </div>
</section><!--//signup-->


<!-- ******FOOTER****** -->
<footer class="footer">
  <div class="footer-content">
    <div class="container">
      <div class="row">
        <div class="footer-col col-md-5 col-sm-7 col-sm-12 about">
          <div class="footer-col-inner">
            <h3 class="title">About Us</h3>
            <p>
                We’re a limited company based in the UK.
                We work with clients in the NHS to help build a health system fit for the
                digital age.
                We build and run digital services for clinicians who deliver direct care
                and researchers who collect data.
                We also provide digital consultancy services to institutions within the health
                sector.
            </p>
            <p><a class="more" href="/about/">Learn more <i class="fa fa-long-arrow-right"></i></a></p>

          </div><!--//footer-col-inner-->
        </div><!--//foooter-col-->
        <div class="footer-col col-md-3 col-sm-4 col-md-offset-1 links">
          <div class="footer-col-inner">
          </div><!--//footer-col-inner-->
        </div><!--//foooter-col-->
        <div class="footer-col col-md-3 col-sm-12 contact">
          <div class="footer-col-inner">
            <h3 class="title">Getting in touch</h3>
            <div class="row">
              <p class="twitter col-md-12 col-sm-4">
                <a href="http://twitter.com/@ohcuk">
                  <i class="fa fa-twitter"></i>@ohcuk
                </a>
              </p>
              <p class="email col-md-12 col-sm-4">
                  <a href="mailto:hello@openhealthcare.org.uk">
                      <i class="fa fa-envelope"></i>hello@openhealthcare.org.uk
                  </a>
              </p>
            </div>
          </div><!--//footer-col-inner-->
        </div><!--//foooter-col-->
      </div><!--//row-->
    </div><!--//container-->
  </div><!--//footer-content-->
</footer><!--//footer-->

        <!-- Javascript -->
    <script type="text/javascript" src="/assets/plugins/jquery-1.10.2.min.js"></script>
    <script type="text/javascript" src="/assets/plugins/jquery-migrate-1.2.1.min.js"></script>
    <script type="text/javascript" src="/assets/plugins/detectmobilebrowser.js"></script>
    <script type="text/javascript" src="/assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/assets/plugins/back-to-top.js"></script>
    <script type="text/javascript" src="/assets/plugins/jquery-placeholder/jquery.placeholder.js"></script>
    <script type="text/javascript" src="/assets/plugins/jquery-inview/jquery.inview.min.js"></script>
    <script type="text/javascript" src="/assets/plugins/FitVids/jquery.fitvids.js"></script>
    <script type="text/javascript" src="/assets/js/main.js"></script>
    <!--[if !IE]>&#8211;>
    <script type="text/javascript" src="/assets/js/animations.js"></script>
    <!--<![endif]-->
    <script type="text/javascript" src="/assets/js/ohc.js"></script>

  <script>
    var _gaq = _gaq || [];

      _gaq.push(['_setAccount', 'UA-35112560-4']);

      _gaq.push(['_trackPageview']);



      (function() {

    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;

    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';

    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);

      })();
  </script>

</body>
</html> 
